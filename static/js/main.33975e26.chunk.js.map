{"version":3,"sources":["components/Header.js","components/Dashboard.js","components/LoginForm.js","components/EditPaymentHistory.js","components/GetPaymentHistory.js","components/DeletePaymentHistory.js","useToken.js","App.js","index.js"],"names":["Header","className","to","Dashboard","notify","toast","error","loginUser","a","email","password","axios","post","then","res","data","catch","err","console","log","LoginForm","setToken","useState","loading","setLoading","setEmail","setPassword","handleSubmit","e","preventDefault","token","method","onSubmit","type","onChange","target","value","name","id","placeholder","required","onClick","color","EditPaymentHistory","setId","setData","editData","setEditData","msg","interceptors","request","use","config","headers","authorization","Promise","reject","handleGetPaymentDetails","get","entries","Object","values","message","finally","map","row","i","keys","td","GetPaymentHistory","DeletePaymentHistory","handleDeletePaymentDetails","useToken","localStorage","getItem","userToken","setItem","App","exact","path","component","defaults","baseURL","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.33975e26.chunk.js","sourcesContent":["\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Header = () => {\r\n    return (\r\n      <ul className='Header'>\r\n        <li>\r\n          <Link className='Link' to='/'>\r\n            Home\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link className='Link' to='/get'>\r\n            Get Payment Details\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link className='Link' to='/edit'>\r\n            Edit Payment Details\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link className='Link' to='/delete'>\r\n            Delete Payment Details\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link className='Link' to='/logout'>\r\n            Log Out\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\n\r\nconst Dashboard = () => {\r\n    return (\r\n        <div>\r\n            <h1> Welcome, John </h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import { useState } from 'react'\r\nimport axios from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport { ClipLoader } from 'react-spinners'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nconst notify = () => toast.error('Pls try again')\r\nasync function loginUser({email, password}) {\r\n  return axios\r\n    .post(`auth/login/staff`, { email, password })\r\n    .then((res) => {\r\n      return res.data['access_token']\r\n    })\r\n    .catch((err) => {\r\n            console.log(`Some error ${{ err }}` + err)\r\n            notify()\r\n    })\r\n}\r\n\r\n\r\nconst LoginForm = ({ setToken }) => {\r\n    let [loading, setLoading] = useState(false)\r\n    const [email, setEmail] = useState()\r\n    const [password, setPassword] = useState()\r\n    \r\n \r\n    \r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        setLoading(true)\r\n      const token = await loginUser({\r\n        email,\r\n        password,\r\n      })\r\n        setToken(token)\r\n        \r\n       \r\n        console.log(token)\r\n       \r\n          setLoading(false)\r\n    }\r\n    return (\r\n      <div className='LoginForm'>\r\n        <form method=\"post\" onSubmit={handleSubmit}>\r\n          <h2> Login Page</h2>\r\n          <input\r\n            type='email'\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            name='email'\r\n            id='input'\r\n            placeholder='Email Address'\r\n            required='required'\r\n          />\r\n\r\n          <input\r\n            type='password'\r\n            name='password'\r\n            id='input'\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required='required'\r\n          />\r\n\r\n          <button type='submit' onClick={handleSubmit}>\r\n            <ClipLoader color='red' loading={loading} /> Log Me In\r\n          </button>\r\n        </form>\r\n      </div>\r\n    )\r\n}\r\n\r\nLoginForm.propTypes = {\r\n    setToken: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default LoginForm\r\n","import { useState } from 'react'\r\nimport { toast } from 'react-toastify'\r\nimport axios from 'axios'\r\nimport { ClipLoader } from 'react-spinners'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\n// import useToken from '../useToken'\r\n\r\nconst EditPaymentHistory = () => {\r\n//   const { token, setToken } = useToken()\r\n  const [id, setId] = useState()\r\n  let [loading, setLoading] = useState(false)\r\n  const [data, setData] = useState(null)\r\n  const [editData, setEditData] = useState({})\r\n  const notify = (msg) => toast.error(`${msg}  Pls try again`)\r\n\r\n  axios.interceptors.request.use(\r\n    (config) => {\r\n      config.headers.authorization = `Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIyIiwianRpIjoiYzI5YjhlYTczYjQyOWNhZGRkNzFhNTg5N2EwNDY4MzYzYWRjY2U4Y2Q0NWY4N2M2ZjI2ZGM3ODVmMTUxMzdlNTZmNjJlMzI5ZmYyNjFlY2EiLCJpYXQiOjE2MTY4NTAxNDMsIm5iZiI6MTYxNjg1MDE0MywiZXhwIjoxNjE2OTM2NTQzLCJzdWIiOiIxIiwic2NvcGVzIjpbIioiXX0.sy_7Ar_i4BDr7us66aUzm1aX62mPZXBNdE67UhyEVFo1EML11gyaR1XtsX1_b4JTTme5xBQiTNrGMDx-tjhG0JKPqlTbFux90VS69kPLMc6wuSq9SYIlPRDRVTZBLBBZmhqSLSqnEFnaQ6nk9jx3_G3YBTDrkWftDGNq6-Lh6dkuKn7TaSYmbXtaWQv7Btz74Xwm9tbZEbWj8iYZP25nnuTm8MTJ2Q9fqdC1qyE6Mai9hSsmspJEIHo5byTrydDSiKo7YRHXdyxWXH7WcgOyi3cfnWKakG9isEv2WmTrPOe-9v9hr0k4f0c-onfsbyITWrRhX9uCnYsw56KCd2oV-lV3R0COHGbaDK3rg4PzO4W-x8b1N0VwHgfrCC0kRBVaGf7QVfj_3M_GZpJQEi7TZz2A3E60gP4arTN39b6MevMDOGcF3LZVQq25MqanqN_VpTNQ3-cToLjMZ5mckH_DdDQ4L6Rm1jk8APGzIUuGu7xrbtHoy2ir0qy_cEL0TwWuXDkpteUhMx1y9i7UVRO8QXZyFy8SQ10AJbSoQ4STPB9d402MvM-Uq_bK530y4KamqNg2pdDhPXCKAxJaRHThVKgJXQM2i66sigl7cJcnckWZ53JyKFMxNVUj3YaXVN8ml1obq4YvymPYzOjwXPI85DhNnvfvg04yV4rZE_8cDzg`\r\n      return config\r\n    },\r\n    (error) => {\r\n      return Promise.reject(error)\r\n    }\r\n  )\r\nconst handleGetPaymentDetails = (e) => {\r\n  e.preventDefault()\r\n  setLoading(true)\r\n\r\n  return axios\r\n    .get(`payment_histories`, { id: id })\r\n    .then((res) => {\r\n      // console.log(res.data.data.data)\r\n      const entries = Object.values(res.data.data.data)\r\n      setData(entries)\r\n      setEditData(entries)\r\n      console.log(entries)\r\n    })\r\n    .catch((err) => {\r\n      notify(err.message)\r\n      // 2041926724\r\n    })\r\n    .finally(() => {\r\n      setLoading(false)\r\n    })\r\n}\r\n\r\n  const handleEditPaymentDetails = (e) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n\r\n    return axios\r\n      .post(`payment_histories`, editData)\r\n      .then((res) => {\r\n        console.log(res.data.data)\r\n        //   console.log(res);\r\n        const entries = Object.values(res.data.data.data)\r\n        setData(entries)\r\n        console.log(entries)\r\n      })\r\n      .catch((err) => {\r\n        notify(err.message)\r\n        // 2041926724\r\n      })\r\n      .finally(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  // const displayData = {\r\n  //   if(data) {\r\n\r\n  //   }\r\n  // }\r\n  return (\r\n    <div className='App'>\r\n      <form method='post' onSubmit={handleGetPaymentDetails}>\r\n        <h2> Edit Payment History</h2>\r\n        <input\r\n          type='text'\r\n          name='id'\r\n          id='input'\r\n          onChange={(e) => setId(e.target.value)}\r\n          placeholder='Anssid No'\r\n          required='required'\r\n        />\r\n\r\n        <button onClick={handleGetPaymentDetails} type='submit'>\r\n          <ClipLoader color='red' loading={loading} /> Edit Payment Details\r\n        </button>\r\n      </form>\r\n      {data ? (\r\n              <table>\r\n                  <thead>\r\n                  \r\n            {data.map((row, i) => {\r\n              return Object.keys(row).map((td) => <th key={i}>{td}</th>)\r\n            })}\r\n         \r\n                  </thead>\r\n          <tbody>\r\n                <tr>\r\n            {data.map((row) => {\r\n              return Object.entries(row).map((td, i) => (\r\n                <td>\r\n                  <input key={i} type='text' name={td[0]} onChange={(e)=> setEditData({...editData, [e.target.name] : e.target.value})} value={td[1]} />\r\n                </td>\r\n              ))\r\n            })}\r\n            <td>\r\n              {' '}\r\n              <button onClick={handleEditPaymentDetails} type='submit'>\r\n               Edit Payment               Details\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        \r\n        </table>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditPaymentHistory\r\n","import { useState } from 'react'\r\nimport { toast } from 'react-toastify'\r\nimport axios from 'axios'\r\nimport { ClipLoader } from 'react-spinners'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\n// import useToken from '../useToken'\r\n\r\n \r\n\r\nconst GetPaymentHistory = () => {\r\n  // const { token, setToken } = useToken()\r\n  const [id, setId] = useState()\r\n  let [loading, setLoading] = useState(false)\r\n  const [data, setData] = useState(null)\r\n\r\n  const notify = (msg) => toast.error(`${msg}  Pls try again`)\r\n\r\n  axios.interceptors.request.use(\r\n    (config) => {\r\n      config.headers.authorization = `Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIyIiwianRpIjoiYzI5YjhlYTczYjQyOWNhZGRkNzFhNTg5N2EwNDY4MzYzYWRjY2U4Y2Q0NWY4N2M2ZjI2ZGM3ODVmMTUxMzdlNTZmNjJlMzI5ZmYyNjFlY2EiLCJpYXQiOjE2MTY4NTAxNDMsIm5iZiI6MTYxNjg1MDE0MywiZXhwIjoxNjE2OTM2NTQzLCJzdWIiOiIxIiwic2NvcGVzIjpbIioiXX0.sy_7Ar_i4BDr7us66aUzm1aX62mPZXBNdE67UhyEVFo1EML11gyaR1XtsX1_b4JTTme5xBQiTNrGMDx-tjhG0JKPqlTbFux90VS69kPLMc6wuSq9SYIlPRDRVTZBLBBZmhqSLSqnEFnaQ6nk9jx3_G3YBTDrkWftDGNq6-Lh6dkuKn7TaSYmbXtaWQv7Btz74Xwm9tbZEbWj8iYZP25nnuTm8MTJ2Q9fqdC1qyE6Mai9hSsmspJEIHo5byTrydDSiKo7YRHXdyxWXH7WcgOyi3cfnWKakG9isEv2WmTrPOe-9v9hr0k4f0c-onfsbyITWrRhX9uCnYsw56KCd2oV-lV3R0COHGbaDK3rg4PzO4W-x8b1N0VwHgfrCC0kRBVaGf7QVfj_3M_GZpJQEi7TZz2A3E60gP4arTN39b6MevMDOGcF3LZVQq25MqanqN_VpTNQ3-cToLjMZ5mckH_DdDQ4L6Rm1jk8APGzIUuGu7xrbtHoy2ir0qy_cEL0TwWuXDkpteUhMx1y9i7UVRO8QXZyFy8SQ10AJbSoQ4STPB9d402MvM-Uq_bK530y4KamqNg2pdDhPXCKAxJaRHThVKgJXQM2i66sigl7cJcnckWZ53JyKFMxNVUj3YaXVN8ml1obq4YvymPYzOjwXPI85DhNnvfvg04yV4rZE_8cDzg`\r\n        return config\r\n    },\r\n    (error) => {\r\n      return Promise.reject(error)\r\n    }\r\n  )\r\n \r\n  const handleGetPaymentDetails = (e) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n \r\n    return axios\r\n      .get(`payment_histories`, { id:id })\r\n      .then((res) => {\r\n        // console.log(res.data.data.data)\r\n        const entries = Object.values(res.data.data.data)\r\n        setData(entries)\r\n        console.log(entries);\r\n      })\r\n      .catch((err) => {\r\n        notify(err.message)\r\n        // 2041926724\r\n      })\r\n      .finally(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  // const displayData = {\r\n  //   if(data) {\r\n     \r\n  //   }\r\n  // }\r\n  return (\r\n    <div className='App'>\r\n      <form method='get' onSubmit={handleGetPaymentDetails}>\r\n        <h2> Get Payment History</h2>\r\n        <input\r\n          type='text'\r\n          name='id'\r\n          id='input'\r\n          onChange={(e) => setId(e.target.value)}\r\n          placeholder='Anssid No'\r\n          required='required'\r\n        />\r\n\r\n        <button onClick={handleGetPaymentDetails} type='submit'>\r\n          <ClipLoader color='red' loading={loading} /> Get Payment Details\r\n        </button>\r\n      </form>\r\n      {data ? (\r\n        <table>\r\n          <thead>\r\n            {data.map((row, i) => {\r\n            return Object.keys(row).map((td) => <th key={i}>{td}</th>)\r\n            })}\r\n          </thead>\r\n          <tbody>\r\n              <tr>\r\n            {data.map((row, id) => {\r\n              return Object.entries(row).map((td) => <td key={id}>{td[1]}</td>)\r\n            })}\r\n          </tr>\r\n          </tbody>\r\n        \r\n        </table>\r\n      ) : \"\"}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GetPaymentHistory\r\n","import { useState } from 'react'\r\nimport { toast } from 'react-toastify'\r\nimport axios from 'axios'\r\nimport { ClipLoader } from 'react-spinners'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\n// import useToken from '../useToken'\r\n\r\nconst DeletePaymentHistory = () => {\r\n  // const { token, setToken } = useToken()\r\n  const [id, setId] = useState()\r\n  let [loading, setLoading] = useState(false)\r\n  const [data, setData] = useState(null)\r\n\r\n  const notify = (msg) => toast.error(`${msg}  Pls try again`)\r\n\r\n  axios.interceptors.request.use(\r\n    (config) => {\r\n      config.headers.authorization = `Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIyIiwianRpIjoiYzI5YjhlYTczYjQyOWNhZGRkNzFhNTg5N2EwNDY4MzYzYWRjY2U4Y2Q0NWY4N2M2ZjI2ZGM3ODVmMTUxMzdlNTZmNjJlMzI5ZmYyNjFlY2EiLCJpYXQiOjE2MTY4NTAxNDMsIm5iZiI6MTYxNjg1MDE0MywiZXhwIjoxNjE2OTM2NTQzLCJzdWIiOiIxIiwic2NvcGVzIjpbIioiXX0.sy_7Ar_i4BDr7us66aUzm1aX62mPZXBNdE67UhyEVFo1EML11gyaR1XtsX1_b4JTTme5xBQiTNrGMDx-tjhG0JKPqlTbFux90VS69kPLMc6wuSq9SYIlPRDRVTZBLBBZmhqSLSqnEFnaQ6nk9jx3_G3YBTDrkWftDGNq6-Lh6dkuKn7TaSYmbXtaWQv7Btz74Xwm9tbZEbWj8iYZP25nnuTm8MTJ2Q9fqdC1qyE6Mai9hSsmspJEIHo5byTrydDSiKo7YRHXdyxWXH7WcgOyi3cfnWKakG9isEv2WmTrPOe-9v9hr0k4f0c-onfsbyITWrRhX9uCnYsw56KCd2oV-lV3R0COHGbaDK3rg4PzO4W-x8b1N0VwHgfrCC0kRBVaGf7QVfj_3M_GZpJQEi7TZz2A3E60gP4arTN39b6MevMDOGcF3LZVQq25MqanqN_VpTNQ3-cToLjMZ5mckH_DdDQ4L6Rm1jk8APGzIUuGu7xrbtHoy2ir0qy_cEL0TwWuXDkpteUhMx1y9i7UVRO8QXZyFy8SQ10AJbSoQ4STPB9d402MvM-Uq_bK530y4KamqNg2pdDhPXCKAxJaRHThVKgJXQM2i66sigl7cJcnckWZ53JyKFMxNVUj3YaXVN8ml1obq4YvymPYzOjwXPI85DhNnvfvg04yV4rZE_8cDzg`\r\n      return config\r\n    },\r\n    (error) => {\r\n      return Promise.reject(error)\r\n    }\r\n  )\r\n\r\n  const handleDeletePaymentDetails = (e) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n\r\n    return axios\r\n      .post(`payment_histories`, { id: id })\r\n      .then((res) => {\r\n        // console.log(res.data.data.data)\r\n        const entries = Object.values(res.data.data.data)\r\n        setData(entries)\r\n        console.log(entries)\r\n      })\r\n      .catch((err) => {\r\n        notify(err.message)\r\n        // 2041926724\r\n      })\r\n      .finally(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  // const displayData = {\r\n  //   if(data) {\r\n\r\n  //   }\r\n  // }\r\n  return (\r\n    <div className='App'>\r\n      <form method='get' onSubmit={handleDeletePaymentDetails}>\r\n        <h2> Delete Payment History</h2>\r\n        <input\r\n          type='text'\r\n          name='id'\r\n          id='input'\r\n          onChange={(e) => setId(e.target.value)}\r\n          placeholder='Anssid No'\r\n          required='required'\r\n        />\r\n\r\n        <button onClick={handleDeletePaymentDetails} type='submit'>\r\n          <ClipLoader color='red' loading={loading} /> Delete Payment Details\r\n        </button>\r\n      </form>\r\n      {data ? (\r\n        <table>\r\n          <thead>\r\n            {data.map((row, i) => {\r\n              return Object.keys(row).map((td) => <th key={i}>{td}</th>)\r\n            })}\r\n          </thead>\r\n          <thead>\r\n           <tr>\r\n            {data.map((row, i) => {\r\n              return Object.entries(row).map((td) => <td key={i}>{td[1]}</td>)\r\n            })}\r\n          </tr>\r\n          </thead>\r\n         \r\n        </table>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DeletePaymentHistory\r\n","import { useState } from 'react'\r\n\r\nexport default function useToken() {\r\n  const getToken = () => {\r\n    const tokenString = localStorage.getItem('token')\r\n    return tokenString\r\n        //   JSON.parse(tokenString)\r\n    //   console.log(userToken);\r\n    // return userToken\r\n  }\r\n\r\n  const [token, setToken] = useState(getToken())\r\n\r\n  const saveToken = (userToken) => {\r\n      localStorage.setItem('token', useToken)\r\n        //   JSON.stringify(userToken))\r\n    setToken(userToken)\r\n  }\r\n\r\n  return {\r\n    setToken: saveToken,\r\n    token,\r\n  }\r\n}\r\n","import { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport Header from './components/Header'\nimport Dashboard from './components/Dashboard'\nimport LoginForm from './components/LoginForm'\nimport EditPaymentHistory from './components/EditPaymentHistory'\nimport GetPaymentHistory from './components/GetPaymentHistory'\nimport DeletePaymentHistory from './components/DeletePaymentHistory'\nimport { ToastContainer } from 'react-toastify'\nimport useToken from './useToken'\n\n\nimport './App.css'\n\n\nfunction App() {\n  const { token, setToken } = useToken()\n\n  if (!token) {\n    return (\n      <div className='App'>\n        <LoginForm setToken={setToken} />\n      </div>\n    )\n  }\n\n  return (\n    <div className='App'>\n      <Router>\n        <Header />\n        <Switch>\n          <Route exact path='/' component={Dashboard} />\n          <Route path='/get' component={GetPaymentHistory} />\n          <Route path='/edit' component={EditPaymentHistory} />\n          <Route path='/delete' component={DeletePaymentHistory} />\n\n          {/* <LoginForm /> */}\n        </Switch>\n      </Router>\n      <ToastContainer />\n    </div>\n  )\n}\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport axios from 'axios'\n// import setAuthorizationToken from \"./setAuthorizationToken\";\n\n// setAuthorizationToken(localStorage.token)\naxios.defaults.baseURL = `http://test.ansppb.an.gov.ng/api/`\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root') \n);\n\n\n"],"sourceRoot":""}